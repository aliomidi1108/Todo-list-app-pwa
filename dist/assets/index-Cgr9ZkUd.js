(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();window.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("taskInput"),r=document.getElementById("addButton"),a=document.getElementById("todoList");console.log("🟡 addButton:",r),r.addEventListener("click",c),o.addEventListener("keypress",t=>{t.key==="Enter"&&c()});function c(){const t=o.value.trim();if(t===""){console.log("Input is empty!");return}const n=document.createElement("li");n.className="flex items-center justify-between p-2 bg-gray-50 rounded-lg";const d=document.createElement("div");d.className="flex items-center space-x-2";const i=document.createElement("span");i.textContent=t,i.className="text-gray-600 text-sm";const s=document.createElement("input");s.type="checkbox",s.className=`
  w-5 h-5 appearance-none border-2 border-orange-500 rounded-full
  checked:bg-orange-500 checked:border-orange-500
  cursor-pointer transition
  relative
`,s.addEventListener("change",()=>{i.classList.toggle("line-through",s.checked),i.classList.toggle("text-gray-400",s.checked)});const l=document.createElement("button");l.textContent="×",l.className="w-6 h-6 flex items-center justify-center rounded-full bg-gray-200 text-gray-500 hover:bg-orange-500 hover:text-white transition-colors",l.addEventListener("click",()=>n.remove()),d.appendChild(i),n.appendChild(l),n.appendChild(d),n.appendChild(s),a.appendChild(n),o.value=""}let e;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),e=t;const n=document.getElementById("installButton");n.style.display="block",n.addEventListener("click",()=>{e.prompt(),e.userChoice.then(d=>{d.outcome==="accepted"?console.log("کاربر نصب رو قبول کرد"):console.log("کاربر نصب رو رد کرد"),e=null,n.style.display="none"})})}),window.addEventListener("appinstalled",()=>{console.log("اپلیکیشن با موفقیت نصب شد")})});console.log("🟢 اسکریپت اجرا شد");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(o=>console.log("✅ SW Registered:",o.scope)).catch(o=>console.error("❌ SW Failed:",o))});
